(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54ec5fe4","chunk-3a045ca5"],{"172a":function(t,e,n){},2886:function(t,e,n){t.exports=n.p+"img/Qrcode-center.6d415b37.png"},"35f8":function(t,e,n){t.exports=n.p+"img/test.0f1c69ad.png"},"55ac":function(t,e,n){"use strict";n("b207")},"563b":function(t,e,n){"use strict";n("8724")},"662c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-alert",{attrs:{message:"เข้าห้องประชุม",description:"โปรดกดปุ่มด้านล่าง เพื่อทำการสแกน QR code เพื่อเข้าห้องประชุม",type:"info","show-icon":""}}),a("a-spin",{attrs:{spinning:t.spinning}},[a("div",{staticClass:"spin-content"},[a("v-row",{staticClass:"mb-3",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-7",attrs:{align:"center"}},[a("v-img",{attrs:{"max-height":"280px","max-width":"280px",src:n("35f8")}},[a("v-img",{directives:[{name:"show",rawName:"v-show",value:0==this.state_qrcode,expression:"this.state_qrcode == 0"}],staticClass:"mt-8",attrs:{"max-height":"215px","max-width":"230px",src:n("2886")}}),1==this.state_qrcode?a("div",{staticClass:"position_camera"},[a("qrcode-drop-zone",{on:{decode:t.onDecode,init:t.logErrors}},[a("qrcode-stream",{on:{decode:t.onDecode,detect:t.onDetect,init:t.onInit}})],1),t.noStreamApiSupport?a("qrcode-capture",{on:{decode:t.onDecode}}):t._e()],1):t._e()],1)],1)],1)],1)]),a("v-row",{staticClass:"mt-5 pb-5",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("a-button",{staticStyle:{height:"80px"},attrs:{type:"primary",icon:"qrcode",size:"large"},on:{click:function(e){return t.Open_Change_state_qrcode()}}},[t._v(" กดเพื่อสแกนเข้าห้องประชุม ")])],1)],1)],1)},o=[],s=(n("b0c0"),n("96cf"),n("1da1")),i={components:{},data:function(){return{spinning:!1,noStreamApiSupport:!1,state_qrcode:0,room:"",email:null,result_api:{},dialog:!1}},created:function(){this.getdata_storage()},methods:{onDecode:function(t){this.room=t,console.log(this.room),console.log(this.email),""!=this.room&&(this.spinning=!this.spinning,this.API_Qrcode())},API_Qrcode:function(){var t=this;this.spinning=!0,null==this.room||null==this.email?this.$message.error("กรุุณาแสดงคิวอาร์โค้ด"):this.result_api={one_email:this.email,room_num:this.room},this.axios({method:"POST",url:this.$store.state.url_get_API_axios+"api/v1/unlock/9JTNyITNxcDO4ITM2EjOiUGdhR2XkVmcpBHelJCLiEjZ2UmNlNWNxM2NzcDMjhjZxYTNlZjN0QjYmNTM3QzNVJiOiQWayV2c1JyeSUJ72",data:this.result_api}).then((function(e){t.results=e.data,console.log(e.data),"Meeting Room Accessed"==e.data.Message?(t.$success({title:"unlock success",content:"Unlock Success",centered:!0}),console.log(e.data)):"Cannot Access Meeting Room"==e.data.Message?t.$error({title:"ไม่สามารถเข้าห้องประชุมได้ ",content:"ไม่สามารถเข้าห้องประชุมได้ "}):"Main Door Accessed"==e.data.Message?"not_open"==e.data.Value.result[0].door_action&&""==e.data.Value.result[0].covid_level?t.$error({title:"ห้ามเข้าพื้นที่",content:"สถานะของคุณคือ"+e.data.Value.help,centered:!0}):"not_open"==e.data.Value.result[0].door_action&&"red"==e.data.Value.result[0].covid_level?t.$success({title:"ห้ามเข้าพื้นที่",content:"สถานะของคุณคือ แดง กรุณาติดต่อเจ้าหน้าที่เพื่อกักตัว",centered:!0}):"open"==e.data.Value.result[0].door_action&&"green"==e.data.Value.result[0].covid_level?t.$success({title:"เปิดประตูสำเร็จ",content:"สถานะของคุณคือ เขียว "+e.data.Value.help,centered:!0}):"open"==e.data.Value.result[0].door_action&&"yellow"==e.data.Value.result[0].covid_level?t.$success({title:"เปิดประตูสำเร็จ",content:"สถานะของคุณคือ เหลือง "+e.data.Value.help,centered:!0}):"open"==e.data.Value.result[0].door_action&&"orange"==e.data.Value.result[0].covid_level&&t.$success({title:"เปิดประตูสำเร็จ",content:"สถานะของคุณคือ ส้ม "+e.data.Value.help,centered:!0}):"Cannot Access Main Door"==e.data.Message?t.$error({title:e.data.Value.result.door_action,content:e.data.Value.help,centered:!0}):t.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล"})})).catch((function(t){console.log(t.message)}))},getdata_storage:function(){var t=JSON.parse(window.localStorage.getItem("user_data"));null===t?this.getdata=null:(this.nickname=t.nickname,this.email=t.email,this.profilepicture=t.profilepicture)},cleanSpinning:function(){this.spinning=!1},logErrors:function(t){t.catch(console.error)},onDetect:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:n=e.sent,a=n.imageData,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Open_Change_state_qrcode:function(){console.log(this.state_qrcode),this.state_qrcode=1},onInit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t;case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),"StreamApiNotSupportedError"===n.t0.name&&(e.noStreamApiSupport=!0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()}}},r=i,l=(n("f03d"),n("2877")),c=n("6544"),u=n.n(c),d=n("62ad"),p=n("adda"),h=n("0fd9"),g=Object(l["a"])(r,a,o,!1,null,"6cdf0f02",null);e["default"]=g.exports;u()(g,{VCol:d["a"],VImg:p["a"],VRow:h["a"]})},8724:function(t,e,n){},b207:function(t,e,n){},b5b6:function(t,e,n){},c57b:function(t,e,n){"use strict";n("172a")},d755:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-card",{},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"pt-3 pt-0 pb-0",attrs:{cols:"9",align:"left"}},[n("p",[t._v("ปฏิทินการประชุมของท่าน")])]),n("v-col",{staticClass:"mb-1 pt-0 pb-0",attrs:{cols:"3",align:"right"}},[n("a-icon",{attrs:{type:"snippets"}})],1)],1)],1),n("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[n("v-col",{},[n("a-alert",{attrs:{type:"info","show-icon":"",description:"ท่านสามารถกดวันที่ในปฏิทิน เพื่อดูการประชุมของท่าน"}})],1)],1),n("a-spin",{attrs:{spinning:t.spinning}},[n("div",{staticClass:"spin-content"},[n("div",{staticClass:"mt-2 mb-1",staticStyle:{border:"1px solid #d9d9d9","border-radius":"4px"}},[n("a-calendar",{attrs:{fullscreen:!1,"header-render":t.headerRender,"disabled-date":t.disabledDate,format:"DD-MM-YYYY"},on:{select:t.onSelect,panelChange:t.onPanelChange},scopedSlots:t._u([{key:"dateCellRender",fn:function(e){return n("ul",{staticClass:"events"},t._l(t.getListData(e),(function(t){return n("li",{key:t.content},[n("a-icon",{style:{color:t.theme_color},attrs:{theme:"filled",type:t.type}})],1)})),0)}}])})],1)])]),n("DialogShowMeetingPerson",{ref:"DialogShowMeetingPerson"})],1)},o=[],s=(n("fb6a"),n("d3b7"),n("25f0"),n("b85c")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-modal",{attrs:{title:"ข้อมูลการประชุมของท่าน",centered:""},model:{value:t.DialogShowMeetingPerson,callback:function(e){t.DialogShowMeetingPerson=e},expression:"DialogShowMeetingPerson"}},[n("a-spin",{attrs:{spinning:t.spinning}},[n("div",[n("v-row",{staticClass:"pt-3 pb-1 pt-0 pb-0"},[n("v-col",{},[n("a-alert",{attrs:{type:"success",description:this.convert_DateCendar}})],1)],1),n("a-empty",{directives:[{name:"show",rawName:"v-show",value:1==this.empty_data,expression:"this.empty_data == true"}],staticStyle:{"margin-top":"20px"}},[n("span",{attrs:{slot:"description"},slot:"description"},[t._v(" ท่านไม่มีประชุมในวันนี้ ")])]),t._l(this.data_list,(function(e){return n("v-row",{key:e,staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[n("v-col",{staticClass:"pa-0"},[n("a-card",[n("a-timeline",[n("a-timeline-item",{attrs:{color:"green"}},[n("a-icon",{staticClass:"pr-5",staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"solution"},slot:"dot"}),t._v(" "+t._s("หัวข้อประชุม : "+e.agenda)+" ")],1),n("a-timeline-item",{attrs:{color:"red"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"calendar"},slot:"dot"}),t._v(" "+t._s(t.parseToDateFormat(e.meeting_start))+" ")],1),n("a-timeline-item",{attrs:{color:"pink"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"bank"},slot:"dot"}),t._v(" "+t._s("ห้องประชุมที่ : "+e.room_num)+" ")],1),n("a-timeline-item",{attrs:{color:"blue"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}),t._v(" "+t._s(t.parseToTimeFormat(e.meeting_start,e.meeting_end))+" ")],1),n("a-timeline-item",{attrs:{color:"red"}},[n("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"team"},slot:"dot"}),n("p",[t._v("ผู้ร่วมประชุม :")]),n("div",[n("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e.one_email)+" ")])],1),t._l(e.guest_email,(function(e){return n("div",{key:e},[n("a-tag",{staticClass:"mt-2",attrs:{color:"blue"}},[t._v(" "+t._s(e)+" ")])],1)}))],2)],1)],1)],1)],1)}))],2)]),n("template",{slot:"footer"},[n("a-button",{key:"back",attrs:{type:"primary"},on:{click:function(e){return t.closeDialogShowMeetingPerson()}}},[t._v(" ปิด ")])],1)],2),n("a-modal",{attrs:{centered:"",footer:null},model:{value:t.status_500,callback:function(e){t.status_500=e},expression:"status_500"}},[n("a-result",{attrs:{status:"500",title:"500","sub-title":"Sorry, the server is wrong."},scopedSlots:t._u([{key:"extra",fn:function(){},proxy:!0}])})],1)],1)},r=[],l={components:{},data:function(){return{DialogShowMeetingPerson:!1,convert_DateCendar:null,select_date_calender:null,spinning:!1,user_login:"",data_list:null,empty_data:!1,status_500:!1,email_user:""}},created:function(){this.getdata_storage()},methods:{open:function(t){this.select_date_calender=t,console.log(t);var e=t.slice(8,10),n=t.slice(5,7),a=t.slice(0,4);this.convert_DateCendar="วันที่ "+e+"-"+n+"-"+a,this.API_ShowBookingUser(t),this.DialogShowMeetingPerson=!0},cleanSpinning:function(){this.spinning=!1},closeDialogShowMeetingPerson:function(){this.DialogShowMeetingPerson=!1},parseToDateFormat:function(t){var e=new Date(t);return"วันที่ : "+e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()},parseToTimeFormat:function(t,e){var n=new Date(t),a=new Date(e),o=0,s=0;return o=0==n.getMinutes()?n.getMinutes()+"0":n.getMinutes(),s=0==a.getMinutes()?a.getMinutes()+"0":a.getMinutes(),"เวลา : "+n.getHours()+":"+o+" - "+a.getHours()+":"+s+" น."},API_ShowBookingUser:function(t){var e=this;this.spinning=!0,this.empty_data=!1,this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/bookingTable/"+this.email_user+"/time/"+t}).then((function(t){console.log(t);var n=t.data;"OK"==t.statusText?(0===t.data.length&&(e.empty_data=!0,e.cleanSpinning()),e.data_list=n,e.cleanSpinning()):(e.$error({centered:!0,title:"ไม่พบข้อมูล",content:"กรุณาตรวจสอบข้อมูล"}),e.cleanSpinning()),e.cleanSpinning()})).catch((function(t){console.log(t.response),e.cleanSpinning()}))},getdata_storage:function(){var t=JSON.parse(window.localStorage.getItem("user_data"));null===t?this.getdata=null:this.email_user=t.email}}},c=l,u=(n("55ac"),n("2877")),d=n("6544"),p=n.n(d),h=n("62ad"),g=n("0fd9"),f=Object(u["a"])(c,i,r,!1,null,"8e83bc4c",null),m=f.exports;p()(f,{VCol:h["a"],VRow:g["a"]});var _=n("c1df"),v=n.n(_),b={components:{DialogShowMeetingPerson:m},data:function(){return{format:"YYYY-MM-DD",day_event_calendar:null,user_login:"",email_user:"",List_booking_user:null,spinning:!1,Date_now:null,Month_now:null}},created:function(){this.getMonthNow(),this.getdata_storage(),this.API_GetBookingCalendarUser()},methods:{moment:v.a,onSelect:function(t){if(null!=t){var e=JSON.stringify(t);this.OpenDialogShowMeetingPerson(e)}else this.$message.error("กรุุณาเลือกวันที่ให้ถูกต้อง")},cleanSpinning:function(){this.spinning=!1},disabledDate:function(t){return t&&t<v()().startOf("day")},OpenDialogShowMeetingPerson:function(t){var e=t.slice(1,11);this.$refs.DialogShowMeetingPerson.open(e)},getMonthNow:function(){var t=new Date;this.Month_now=t.getMonth()+1,this.Date_now=t.getDate()},getListData:function(t){if(t.date()<10)var e="0"+t.date();else e=t.date();var n,a,o=e+"-"+t.month(),i=o.substring(0,2),r=o.substring(3,5),l=Object(s["a"])(this.List_booking_user);try{for(l.s();!(a=l.n()).done;){var c=a.value;i.toString()==c.meeting_start_day.toString()&&i>"0"+this.Date_now&&r==(this.Month_now-1).toString()&&(n=[{type:"star",theme_color:"orange"}])}}catch(u){l.e(u)}finally{l.f()}return n||[]},API_GetBookingCalendarUser:function(){var t=this;this.spinning=!0,console.log(this.email_user),this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/bookingTable/"+this.email_user+"/future"}).then((function(e){t.cleanSpinning();var n=e.data;t.List_booking_user=n,console.log(t.List_booking_user)})).catch((function(e){t.cleanSpinning(),console.log(e.message)}))},headerRender:function(t){for(var e=t.value,n=t.onChange,a=this.$createElement,o=new Date(e),s=new Date(e),i=o.getMonth(),r=s.getMonth()+1,l=r,c=[],u=e.clone(),d=e.localeData(),p=[],h=0;h<12;h++)u.month(h),p.push(d.monthsShort(u));console.log(l);for(var g=i;g<=r;g++)console.log(g),console.log(r),g<=l&&c.push(a("a-select-option",{class:"month-item",key:"".concat(g)},[p[g]]));var f=e.month();return a("div",{style:{padding:"10px"}},[a("a-row",{attrs:{type:"flex",justify:"space-around "}},[a("v-col",{attrs:{align:"left"},class:"mt-1"},[a("a-icon",{attrs:{type:"star",theme:"filled"},style:"color: orange;"}),a("span",{class:"ml-2"},["  หมายถึง มีการประชุม"])]),a("v-col",{attrs:{align:"right"}},[a("a-select",{attrs:{dropdownMatchSelectWidth:!1,value:String(f)},on:{change:function(t){var a=e.clone();a.month(parseInt(t,10)),a.getMonth()<2&&(console.log("----\x3e",a),n(a))}}},[c])])])])},getdata_storage:function(){var t=JSON.parse(window.localStorage.getItem("user_data"));null===t?this.getdata=null:this.email_user=t.email}}},w=b,y=(n("563b"),Object(u["a"])(w,a,o,!1,null,"5e515caa",null));e["default"]=y.exports;p()(y,{VCol:h["a"],VRow:g["a"]})},eee1:function(t,e,n){},f03d:function(t,e,n){"use strict";n("eee1")},f4a9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-card",{staticClass:"mt-3",attrs:{flat:""}},[n("v-container",{staticClass:"pa-5"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",[n("a-tabs",{attrs:{"default-active-key":"1"},on:{prevClick:t.callback,nextClick:t.callback}},[n("a-tab-pane",{key:"1",attrs:{tab:"เข้าห้องประชุม"}},[n("JoinCalendarMeeting",{ref:"JoinCalendarMeeting"})],1),n("a-tab-pane",{key:"2",attrs:{tab:"จองห้องประชุม"}},[n("CalendarMeeting",{ref:"CalendarMeeting",on:{testnon:function(e){return t.test()}}})],1),n("a-tab-pane",{key:"3",attrs:{tab:"ตารางปฏิทินประชุม"}},[n("SchedulePerson",{ref:"SchedulePerson"})],1)],1)],1)],1)],1)],1),n("Footer",{ref:"Footer",staticClass:"mt-3"})],1)},o=[],s=n("4d65"),i=n("d755"),r=n("662c"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{padless:"",height:"60px",color:"white"}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12","background-color":"white"}},[n("br"),t._v(" "+t._s((new Date).getFullYear())+" — "),n("strong",[t._v("IoT Hatyai")])])],1)},c=[],u={data:function(){return{}},created:function(){},methods:{}},d=u,p=n("2877"),h=n("6544"),g=n.n(h),f=n("62ad"),m=(n("a9e3"),n("c7cd"),n("5530")),_=(n("b5b6"),n("8dd9")),v=n("3a66"),b=n("d10f"),w=n("58df"),y=n("80d2"),S=Object(w["a"])(_["a"],Object(v["a"])("footer",["height","inset"]),b["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(m["a"])(Object(m["a"])({},_["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(m["a"])(Object(m["a"])({},_["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(y["f"])(t),left:Object(y["f"])(this.computedLeft),right:Object(y["f"])(this.computedRight),bottom:Object(y["f"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}}),M=Object(p["a"])(d,l,c,!1,null,null,null),x=M.exports;g()(M,{VCol:f["a"],VFooter:S});var D={name:"HomePage",components:{CalendarMeeting:s["default"],SchedulePerson:i["default"],JoinCalendarMeeting:r["default"],Footer:x},data:function(){return{loading:!1}},mounted:function(){var t=this.$route.query;this.parameters_expired_date=t.expired_date,this.parameters_onechat_token=t.onechat_token},computed:{},created:function(){},methods:{test:function(){console.log("i am homepage")},callback:function(t){console.log(t)},API_GetUserLogin:function(){var t=this;this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/getProfile/9BzM5MjMxcjM1ITM2EjOiUGdhR2XkVmcpBHelJCLigDZzcjY4AjN0MmMzMTMhljZ0QWNwQjNmFmZ0EDZwYTMVJiOiQWayV2c1Jye4fUzi"}).then((function(e){console.log(e.data);var n=e.data;"success"==e.data.Status?t.save_Data(n):"fail, Token Invalid"==e.data.Status?t.Model_countDown_error():t.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล"})})).catch((function(t){console.log(t.message)}))},Model_countDown_error:function(){var t=3,e=this.$error({title:"ไม่พบผู้ใช้นี้",content:"โปรดล็อกอินอีกครั้ง",centered:!0}),n=setInterval((function(){t-=1,e.update({content:"โปรดล็อกอินอีกครั้ง"})}),1e3);setTimeout((function(){clearInterval(n),e.destroy()}),1e3*t)},save_Data:function(t){var e=t.Value;window.localStorage.setItem("user_data",JSON.stringify(e))}}},C=D,k=(n("c57b"),n("b0af")),j=n("a523"),P=n("0fd9"),V=Object(p["a"])(C,a,o,!1,null,"67e6a11f",null);e["default"]=V.exports;g()(V,{VCard:k["a"],VCol:f["a"],VContainer:j["a"],VRow:P["a"]})}}]);
//# sourceMappingURL=chunk-54ec5fe4.2e1b52a5.js.map