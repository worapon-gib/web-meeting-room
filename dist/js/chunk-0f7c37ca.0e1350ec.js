(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f7c37ca"],{"0999":function(t,e,a){"use strict";a("0d06")},"0d06":function(t,e,a){},"0fd9":function(t,e,a){"use strict";a("4b85");var n=a("2b0e"),i=a("d9f7"),s=a("80d2");const o=["sm","md","lg","xl"],l=["start","end","center"];function r(t,e){return o.reduce((a,n)=>(a[t+Object(s["o"])(n)]=e(),a),{})}const c=t=>[...l,"baseline","stretch"].includes(t),d=r("align",()=>({type:String,default:null,validator:c})),g=t=>[...l,"space-between","space-around"].includes(t),_=r("justify",()=>({type:String,default:null,validator:g})),u=t=>[...l,"space-between","space-around","stretch"].includes(t),m=r("alignContent",()=>({type:String,default:null,validator:u})),p={align:Object.keys(d),justify:Object.keys(_),alignContent:Object.keys(m)},h={align:"align",justify:"justify",alignContent:"align-content"};function f(t,e,a){let n=h[t];if(null!=a){if(e){const a=e.replace(t,"");n+="-"+a}return n+="-"+a,n.toLowerCase()}}const v=new Map;e["a"]=n["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...d,justify:{type:String,default:null,validator:g},..._,alignContent:{type:String,default:null,validator:u},...m},render(t,{props:e,data:a,children:n}){let s="";for(const i in e)s+=String(e[i]);let o=v.get(s);if(!o){let t;for(t in o=[],p)p[t].forEach(a=>{const n=e[a],i=f(t,a,n);i&&o.push(i)});o.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),v.set(s,o)}return t(e.tag,Object(i["a"])(a,{staticClass:"row",class:o}),n)}})},2911:function(t,e,a){},"4b85":function(t,e,a){},"4d65":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mt-3 pt-0 pb-0",attrs:{cols:"7",align:"left"}},[a("p",[t._v("ปฏิทินการจองห้องประชุม")])]),a("v-col",{staticClass:"mb-1 pt-0 pb-0",attrs:{cols:"5",align:"right"}},[a("a-icon",{staticClass:"pl-2",attrs:{type:"calendar"}})],1)],1)],1),a("v-row",{staticClass:"mt-1",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("div",{staticStyle:{border:"1px solid #d9d9d9","border-radius":"4px"}},[a("a-calendar",{attrs:{fullscreen:!1,value:t.value_date,"disabled-date":t.disabledDate,format:"DD-MM-YYYY"},on:{select:t.onSelect,panelChange:t.onPanelChange}})],1)])],1),a("a-card",{staticClass:"mt-4"},[a("v-row",{attrs:{align:"",justify:"center"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"6",align:"center"}},[a("v-card-text",{staticClass:"pa-0 font-weight-bold"},[t._v("กดปุ่มดูการจอง")]),a("a-button",{staticClass:"mt-7",attrs:{type:"primary",size:"large"},on:{click:function(e){return t.OpenDialogShowBookingMeeting()}}},[a("a-icon",{attrs:{type:"schedule"}}),t._v(" ดูการจอง ")],1)],1),a("v-divider",{attrs:{vertical:"",inset:""}}),a("v-col",{staticClass:"pa-0",attrs:{cols:"5",align:"right"}},[a("v-card-text",{staticClass:"pa-0 font-weight-bold"},[t._v("สถานะการจอง")]),a("v-card-text",{staticClass:"pl-0 pb-0 pr-0"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"}},[t._v("mdi-alert-circle")]),t._v(" หมายถึง เต็ม")],1),a("v-card-text",{staticClass:"pb-0 pr-0"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"green"}},[t._v("mdi-alert-circle")]),t._v(" หมายถึง ว่าง")],1)],1)],1)],1),a("DialogSearchRoom",{ref:"DialogSearchRoom"}),a("DialogAddMeeting",{ref:"DialogAddMeeting"}),a("DialogShowBookingMeeting",{ref:"DialogShowBookingMeeting"})],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{centered:"",title:"ค้นหาห้องประชุม"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("a-spin",{attrs:{spinning:t.spinning,delay:t.delayTime}},[a("div",{staticClass:"spin-content"},[a("v-row",{staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[a("v-col",[a("a-alert",{attrs:{message:this.message_alert,description:"โปรดกดเลือกเวลาด้านล่าง เพื่อค้นหาห้องประชุมที่ท่านต้องการ"}})],1)],1),a("br"),a("br"),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticStyle:{"padding-bottom":"0px"},attrs:{align:"center"}},[a("a-form",[a("a-form-item",{attrs:{label:"เวลาเริ่มต้น"}},[a("a-time-picker",{staticStyle:{width:"100%"},attrs:{inputReadOnly:"","minute-step":5,value:t.value_starttime,format:"HH:mm"},on:{change:t.onChange_Start_Time}})],1)],1)],1),a("v-col",{staticStyle:{"padding-bottom":"0px"},attrs:{align:"center"}},[a("a-form",[a("a-form-item",{attrs:{label:"เวลาสิ้นสุด"}},[a("div",{attrs:{name:"disabled-keyboard--input"}},[a("a-time-picker",{staticStyle:{width:"100%"},attrs:{inputReadOnly:"","minute-step":5,value:t.value_endtime,format:"HH:mm"},on:{change:t.onChange_End_Time}})],1)])],1)],1)],1)],1)]),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.handleCancel}},[t._v(" ปิด ")]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:function(e){return t.API_search_MeetingRoom()}}},[t._v(" ค้นหา ")])],1)],2),a("DialogAddMeeting",{ref:"DialogAddMeeting"})],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{centered:"",title:"จองห้องประชุม"},model:{value:t.dialog_addMeeting,callback:function(e){t.dialog_addMeeting=e},expression:"dialog_addMeeting"}},[a("a-spin",{attrs:{spinning:t.spinning}},[a("div",{staticClass:"spin-content"},[a("a-form",{attrs:{"label-col":{span:5},"wrapper-col":{span:12}}},[a("a-form-item",{attrs:{label:"วันที่และเวลาที่ท่านเลือกจองห้องประชุม"}},[a("a-alert",{attrs:{message:this.message_date_alert,description:this.message_time_alert}})],1),a("a-form-item",{attrs:{label:"โปรดเลือกห้องประชุมด้านล่างนี้"}},[a("a-select",{attrs:{placeholder:"โปรดเลือกห้องประชุม","option-filter-prop":"children","filter-option":t.filterOption},on:{change:t.selected_room}},t._l(t.List_room_select,(function(e){return a("a-select-option",{key:e,attrs:{inputReadOnly:"",value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"หัวข้อการประชุม:"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["agenda",{rules:[{required:!0,message:"โปรดระบุหัวข้อการประชุม"}]}],expression:"[\n                'agenda',\n                {\n                  rules: [\n                    { required: true, message: 'โปรดระบุหัวข้อการประชุม' },\n                  ],\n                },\n              ]"}],attrs:{placeholder:"โปรดระบุหัวข้อการประชุม"},model:{value:t.Topic_Meeting,callback:function(e){t.Topic_Meeting=e},expression:"Topic_Meeting"}})],1),a("a-form-item",{attrs:{label:"เชิญผู้ร่วมประชุม:"}},[a("a-select",{attrs:{mode:"multiple",placeholder:"ค้นหาผู้ร่วมประชุม"},on:{change:t.Change_Select_person}},t._l(t.data_select_person,(function(e){return a("a-select-option",{key:e},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1)]),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:function(e){return t.CloseDialog()}}},[t._v(" ยกเลิก ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.Validate_Before_API_SendData()}}},[t._v(" จอง ")])],1)],2)],1)},r=[];a("3d20");const c={labelCol:{span:2},wrapperCol:{span:4}},d={labelCol:{span:2},wrapperCol:{span:4,offset:2}};var g={components:{},data:()=>({dialog_addMeeting:!1,List_room_select:null,spinning:!1,data_select_person:null,message_date_alert:"",message_time_alert:"",Topic_Meeting:"",person_select:"",formItemLayout:c,formTailLayout:d,username:"",room_Meeting:"",meeting_start:"",date_not_convert_select:"",meeting_end:"",loading:!1,room_value:null,num_room:""}),mounted(){},methods:{open(t){this.message_date_alert="วันที่ : "+t.date_convert_select,this.message_time_alert="เวลาที่เริ่มต้น : "+t.start_time+" น. - เวลาที่สิ้นสุด : "+t.end_time+" น.",this.date_not_convert_select=t.date_not_convert_select,this.meeting_start=t.start_time,this.meeting_end=t.end_time,this.List_room_select=t.room_source_api,this.dialog_addMeeting=!0,this.API_GetUserTable()},CloseDialog(t){console.log(t),this.dialog_addMeeting=!1},selected_room(t){console.log(t),""!=t&&(this.num_room=t)},onSearch(t){console.log(t)},Change_Select_person(t){console.log(t),""!=t&&(this.person_select=t)},API_GetUserTable(){this.spinning=!0,this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/userTable/email"}).then(t=>{console.log(t.data),"Query Successful"==t.data.Status?(this.data_select_person=t.data.Value,this.spinning=!1):(this.spinning=!1,this.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล"}))}).catch(t=>{this.spinning=!1,"Request failed with status code 400"==t.message&&this.$message.error("ไม่พบข้อมูล")})},Validate_Before_API_SendData(){""==this.num_room||""==this.Topic_Meeting||this.person_select==[]||""==this.date_not_convert_select||""==this.meeting_start||""==this.meeting_end?this.$error({title:"กรุณากรอกข้อมูลให้ครบถ้วน",content:"โปรดตรวจสอบข้อมูลของท่าน"}):this.API_SendAddData()},API_SendAddData(){this.spinning=!0;var t={one_email:"nitchakarn.ho@one.th",agenda:this.Topic_Meeting,room_num:this.num_room,guests:this.person_select,meeting_start:this.date_not_convert_select+" "+this.meeting_start,meeting_end:this.date_not_convert_select+" "+this.meeting_end};console.log(t),this.axios({method:"POST",url:this.$store.state.url_get_API_axios+"api/v1/booking",data:t}).then(t=>{console.log(t.data),"Booking Successful"==t.data.Status?(this.spinning=!1,this.dialog_addMeeting=!1,this.$success({centered:centered,title:"จองห้องประชุมสำเร็จ",content:"ท่านสามารถดูการจองของท่านได้จากเมนู ดูการจอง"})):(this.spinning=!1,this.dialog_addMeeting=!1,this.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล"}))}).catch(t=>{this.spinning=!1,this.dialog_addMeeting=!1,console.log(t.message)})}}},_=g,u=a("2877"),m=Object(u["a"])(_,l,r,!1,null,null,null),p=m.exports,h=a("c1df"),f=a.n(h),v={components:{DialogAddMeeting:p},data:()=>({dialog:!1,select_to_date:null,value_starttime:null,value_endtime:null,start_time:null,end_time:null,delayTime:500,spinning:!1,date_not_convert_select:null,date_convert_select:"",loading:!1,message_alert:"",source_api:{},data_value_room:null}),methods:{moment:f.a,open(t){this.date_not_convert_select=t;var e=t.slice(8,10),a=t.slice(5,7),n=t.slice(0,4);this.date_convert_select=e+"-"+a+"-"+n,this.message_alert="วันที่ท่านเลือก : "+this.date_convert_select,this.dialog=!0},onChange_Select_Date(t,e){null!=e&&(this.select_to_date=e)},onChange_Start_Time(t,e){this.value_starttime=t,this.start_time=e},onChange_End_Time(t,e){this.value_endtime=t,this.end_time=e},API_search_MeetingRoom(){this.spinning=!0,null==this.start_time||null==this.end_time?this.$message.error("กรุุณาเลือกข้อมูลให้ครบถ้วน"):(this.source_api={meeting_start:this.date_not_convert_select+" "+this.start_time,meeting_end:this.date_not_convert_select+" "+this.end_time},this.axios({method:"POST",url:this.$store.state.url_get_API_axios+"api/v1/checkAvailableRoom",data:this.source_api}).then(t=>{this.spinning=!1,"These Rooms are Available"==t.data.Status?(this.data_value_room=t.data.value,this.spinning=!1,this.Open_DialogAdd_event_Meeting()):this.$error({title:"ไม่พบห้องประชุมที่ว่าง",content:"โปรดเลือกเวลาประชุมอีกครั้ง"})}).catch(t=>{this.spinning=!1,console.log(t.message),"Request failed with status code 400"==t.message&&this.$message.error("ไม่พบห้องประชุมที่ว่าง")}))},changeSpinning(){this.spinning=!1},Open_DialogAdd_event_Meeting(){if(this.dialog=!1,null!=this.data_value_room){var t={date_not_convert_select:this.date_not_convert_select,date_convert_select:this.date_convert_select,start_time:this.start_time,end_time:this.end_time,room_source_api:this.data_value_room};this.$refs.DialogAddMeeting.open(t)}else this.$error({title:"ไม่พบห้องประชุมที่ว่าง",content:"โปรดเลือกเวลาประชุมอีกครั้ง"})},handleCancel(t){console.log(t),this.dialog=!1}}},b=v,y=a("6544"),S=a.n(y),k=a("62ad"),C=a("0fd9"),w=Object(u["a"])(b,s,o,!1,null,"0eb42bfc",null),M=w.exports;S()(w,{VCol:k["a"],VRow:C["a"]});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{centered:"",title:"ข้อมูลการจองห้องประชุม"},model:{value:t.dialogShowBookingMeeting,callback:function(e){t.dialogShowBookingMeeting=e},expression:"dialogShowBookingMeeting"}},t._l(3,(function(e){return a("v-row",{key:e,staticClass:"pt-5",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"pa-0"},[a("a-card",[a("a-timeline",[a("a-timeline-item",{attrs:{color:"green"}},[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"solution"},slot:"dot"}),t._v(" ประชุมเรื่อง IoT Engineering ")],1),a("a-timeline-item",{attrs:{color:"red"}},[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"calendar"},slot:"dot"}),t._v(" วันที่จอง 20/10/2563 ")],1),a("a-timeline-item",{attrs:{color:"pink"}},[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"bank"},slot:"dot"}),t._v(" ห้อง 401 ")],1),a("a-timeline-item",{attrs:{color:"blue"}},[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}),t._v(" เวลา 10.30 - 11.00 ")],1),a("a-timeline-item",{attrs:{color:"green"}},[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"dot",type:"team"},slot:"dot"}),a("div",[a("a-tag",{attrs:{color:"pink"}},[t._v(" pink ")]),a("a-tag",{attrs:{color:"red"}},[t._v(" red ")]),a("a-tag",{attrs:{color:"orange"}},[t._v(" orange ")])],1)],1)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("a-button",{attrs:{type:"danger",size:"large"}},[t._v(" ยกเลิกการจอง ")])],1)],1)],1)],1)],1)})),1)],1)},D=[],j={components:{},data:()=>({dialogShowBookingMeeting:!1}),methods:{open(){this.dialogShowBookingMeeting=!0}}},O=j,A=(a("0999"),Object(u["a"])(O,x,D,!1,null,"14c8d10a",null)),T=A.exports;S()(A,{VCol:k["a"],VRow:C["a"]});var $={components:{DialogSearchRoom:M,DialogAddMeeting:p,DialogShowBookingMeeting:T},data:()=>({value_date:null,List_booking_all:null}),created(){this.API_GetBookingCalendar()},methods:{moment:f.a,onSelect(t){if(null!=t){var e=JSON.stringify(t);this.OpenDialogSearchRoom(e)}else this.$message.error("กรุุณาเลือกวันที่ให้ถูกต้อง")},onPanelChange(t,e){console.log(t,e)},disabledDate(t){return t&&t<f()().endOf("day")},OpenDialogSearchRoom(t){var e=t.slice(1,11);this.$refs.DialogSearchRoom.open(e)},OpenDialogShowBookingMeeting(){this.$refs.DialogShowBookingMeeting.open()},getListData(t){let e;switch(t.date()){case 8:e=[{type:"warning"},{type:"success"}];break;case 10:e=[{type:"warning"},{type:"success"},{type:"error"}];break;case 15:e=[{type:"warning"}];break;default:}return e||[]},getMonthData(t){if(8===t.month())return 1394},API_GetBookingCalendar(){this.axios({method:"GET",url:this.$store.state.url_get_API_axios+"api/v1/bookingTable"}).then(t=>{console.log(t.statusText),console.log(t.data),this.results=t.data,"OK"==t.statusText?this.List_booking_all=this.results:this.$error({title:"ไม่พบข้อมูล",content:"ไม่พบข้อมูล"})}).catch(t=>{console.log(t.message)})}}},B=$,P=(a("c2079"),a("99d9")),R=a("ce7e"),I=a("132d"),V=Object(u["a"])(B,n,i,!1,null,"53748e05",null);e["default"]=V.exports;S()(V,{VCardText:P["b"],VCol:k["a"],VDivider:R["a"],VIcon:I["a"],VRow:C["a"]})},"62ad":function(t,e,a){"use strict";a("4b85");var n=a("2b0e"),i=a("d9f7"),s=a("80d2");const o=["sm","md","lg","xl"],l=(()=>o.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),r=(()=>o.reduce((t,e)=>(t["offset"+Object(s["o"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>o.reduce((t,e)=>(t["order"+Object(s["o"])(e)]={type:[String,Number],default:null},t),{}))(),d={col:Object.keys(l),offset:Object.keys(r),order:Object.keys(c)};function g(t,e,a){let n=t;if(null!=a&&!1!==a){if(e){const a=e.replace(t,"");n+="-"+a}return"col"!==t||""!==a&&!0!==a?(n+="-"+a,n.toLowerCase()):n.toLowerCase()}}const _=new Map;e["a"]=n["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...l,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:a,children:n,parent:s}){let o="";for(const i in e)o+=String(e[i]);let l=_.get(o);if(!l){let t;for(t in l=[],d)d[t].forEach(a=>{const n=e[a],i=g(t,a,n);i&&l.push(i)});const a=l.some(t=>t.startsWith("col-"));l.push({col:!a||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),_.set(o,l)}return t(e.tag,Object(i["a"])(a,{class:l}),n)}})},c2079:function(t,e,a){"use strict";a("2911")}}]);
//# sourceMappingURL=chunk-0f7c37ca.0e1350ec.js.map